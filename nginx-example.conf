# Exemplo de configuração do Nginx para o portfólio
# Copie este arquivo para /etc/nginx/sites-available/seu-site
# e ajuste conforme necessário

server {
    listen 80;
    server_name seu-dominio.com www.seu-dominio.com;
    # Se não tiver domínio, use apenas o IP:
    # server_name 192.168.1.100;
    
    # Caminho para os arquivos do build
    root /var/www/seu-site/dist;
    index index.html;

    # Configuração para SPA (Single Page Application)
    # Isso garante que rotas do React Router funcionem corretamente
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Cache para arquivos estáticos (otimização de performance)
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # Gzip compression (reduz tamanho dos arquivos)
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types 
        text/plain 
        text/css 
        text/xml 
        text/javascript 
        application/x-javascript 
        application/xml+rss 
        application/json
        application/javascript;

    # Logs
    access_log /var/log/nginx/seu-site-access.log;
    error_log /var/log/nginx/seu-site-error.log;
}

# Configuração para HTTPS (após configurar SSL com Let's Encrypt)
# Descomente e ajuste após obter o certificado SSL

# server {
#     listen 443 ssl http2;
#     server_name seu-dominio.com www.seu-dominio.com;
#     
#     ssl_certificate /etc/letsencrypt/live/seu-dominio.com/fullchain.pem;
#     ssl_certificate_key /etc/letsencrypt/live/seu-dominio.com/privkey.pem;
#     
#     root /var/www/seu-site/dist;
#     index index.html;
# 
#     location / {
#         try_files $uri $uri/ /index.html;
#     }
# 
#     location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
#         expires 1y;
#         add_header Cache-Control "public, immutable";
#     }
# 
#     gzip on;
#     gzip_vary on;
#     gzip_min_length 1024;
#     gzip_types text/plain text/css text/xml text/javascript application/x-javascript application/xml+rss application/json;
# }
# 
# # Redirecionar HTTP para HTTPS
# server {
#     listen 80;
#     server_name seu-dominio.com www.seu-dominio.com;
#     return 301 https://$server_name$request_uri;
# }

